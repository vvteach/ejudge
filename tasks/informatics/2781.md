---
title: "Задача №2781. Декартово дерево"
tags:
  - problems/origin/informatics/2781
  - problem/contest/029403/D
  - problem/contest/030405/B
  - problem/contest/300802/A
  - problem/contest/200804/A
  - problem/contest/301700/A
  - problem/contest/201700/A
---
# Задача №2781. Декартово дерево

Вам даны пары чисел $(a\_i, b\_i)$, Вам необходимо построить декартово дерево, такое что $i$-ая вершина имеет ключи $(a\_i, b\_i)$, вершины с ключом $a\_i$ образуют бинарное дерево поиска, а вершины с ключом $b\_i$ образуют кучу на минимум.
### Входные данные
В первой строке записано число $N$ — количество пар. Далее следует $N$ ($1 \le N \le 50\,000$) пар $(a\_i, b\_i)$. Для всех пар $\lvert a\_i\rvert, \lvert b\_i \rvert \le 30\,000$. $a\_i \ne a\_j$ и $b\_i \neq b\_j$ для всех $i \ne j$.
### Выходные данные
Если декартово дерево с таким набором ключей построить возможно, выведите в первой строке YES, в противном случае выведите NO. В случае ответа YES, выведите $N$ строк, каждая из которых должна описывать вершину. Описание вершины состоит из трёх чисел: номер предка, номер левого сына и номер правого сына. Если у вершины отсутствует предок или какой-либо из сыновей, то выводите на его месте число 0.
Если подходящих деревьев несколько, выведите любое.
### Примеры
**Входные данные:**
```
7
5 4
2 2
3 9
0 5
1 3
6 6
4 11
```
**Выходные данные:**
```
YES
2 3 6
0 5 1
1 0 7
5 0 0
2 4 0
1 0 0
3 0 0
```