---
title: "Задача №113099.  Поездка на каникулах"
tags:
  - problems/origin/informatics/113099
  - problem/contest/200612/E
---
# Задача №113099. Поездка на каникулах

Железная дорога Флатландии представляет собой прямую, вдоль которой
расположены $n$ станций. Будем называть участок железной дороги от некоторой станции до
следующей перегоном.
Поезд следует от станции 1 до станции $n$, делая остановку на каждой станции. В
поезде $k$ мест, пронумерованных от 1 до $k$. На поезд продаются билеты, каждый билет
характеризуется тремя числами: $s$, $t$ и $a$. Такой билет позволяет проехать от станции $s$ до
станции $t$ на месте $a$.
Вася планирует в один из дней летних каникул проехать на поезде от одной станции
до другой. Он выяснил, что на поезд в этот день уже продано $m$ билетов, и возможно уже нет
мест, свободных на всех перегонах между интересующими его станциями. Билет от одной
станции до другой на определенное место можно купить, только если это место свободно на
всех перегонах между этими станциями.
Вася сообразил, что иногда все равно можно проехать от одной станции до другой,
купив несколько билетов и пересаживаясь с одного места на другое на некоторых
промежуточных станциях. Разумеется, пересаживаться с места на место неудобно, поэтому
Вася хочет купить минимальное количество билетов, чтобы на каждом перегоне у него было
свое место.
Вася еще не решил, от какой станции и до какой он поедет. Он записал q вариантов
поездки, и для каждого из них хочет узнать, какое минимальное число билетов ему придется
купить, если он выберет этот вариант.
Требуется написать программу, которая по заданному описанию уже проданных
билетов и вариантов поездки Васи определяет для каждого варианта, какое минимальное
количество билетов необходимо купить, чтобы совершить такую поездку.
### Входные данные
Первая строка входного файла содержит числа $n$, $m$ и $k$ (\(2 \le n \le 200 000,
0 \le m \le 200 000, 1 \le k \le 200 000\)) – количество станций, количество уже проданных билетов и
количество мест в поезде. Последующие $m$ строк содержат информацию о проданных
билетах. Каждая строка содержит три числа: $s\_i$
, $t\_i$ и $a\_i$ – номер станции, от которой куплен
билет, номер станции, до которой куплен билет, и номер места, на которое куплен билет
($1 \le s\_i < t\_i \le n, 1 \le a\_i \le k$). Гарантируется, что все билеты куплены таким образом, что ни на
каком перегоне ни на какое место нет более одного билета.
Далее идет строка, которая содержит число $q$ ($1 \le q \le 200 000$). Последующие $q$ строк
содержат описания вариантов поездки. Каждая строка содержат два числа: $f\_j$
, $d\_j$ – номер
станции, от которой Вася хочет поехать в этом варианте, и номер станции, до которой он
хочет поехать ($1 \le f\_j < d\_j \le n$).
### Выходные данные
Выходной файл должен содержать $q$ чисел: для каждого варианта поездки требуется
вывести минимальное количество билетов, которое необходимо купить Васе, чтобы
совершить соответствующую поездку. Если поездку совершить невозможно, то для этого
варианта требуется вывести –1.
### Примеры
**Входные данные:**
```
5 4 3
1 4 1
2 5 3
2 3 2
4 5 2
3
1 5
3 5
4 5
```
**Выходные данные:**
```
-1
2
1
```