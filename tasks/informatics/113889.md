---
title: "Задача №113889. Злая Лига Зла"
tags:
  - problems/origin/informatics/113889
  - problem/contest/202721/B
---
# Задача №113889. Злая Лига Зла

Злой Конь объявляет набор в Злую Лигу Зла! Он начертил своим копытом на бумаге длинную строку
*s*
, состоящую только из символов «
(
», «
)
» и «
?
» и послал всем потенциальным кандидатам. Желающий подать заявку в злодеи должен для каждого символа «
?
» выбрать: заменить его на открывающую скобку или на закрывающую. В Злую Лигу Зла попадёт тот из них, у кого в получившейся строке можно будет выделить самую длинную
подпоследовательность
, являющуюся правильной скобочной последовательностью.
Подпоследовательностью
строки называется строка, получающаяся из данной удалением какого-то (возможно нулевого) количества символов. Например, строки «
abc
», «
ac
», «
bcc
» и «
abbcc
» являются подпоследовательностями строки «
abbcc
», а строки «
cb
» и «
ba
» не являются. Обратите внимание, пустая строка является подпоследовательностью любой строки.
Последовательность круглых скобок называется
правильной
в следующих случаях:
1. Если она пустая.
2. Если она состоит из правильной скобочной последовательности, заключённой в скобки.
3. Если она состоит из двух правильных скобочных последовательностей, записанных одна за другой.
Например, последовательности круглых скобок «
()()
» и «
((()))()
» являются правильными, а «
)(()
», «
(((((
» и «
())
» — нет.
Доктор Хоррибл уже давно мечтает попасть в Злую Лигу Зла, но из-за его пацифизма у него не очень-то хорошо выходит совершать злые поступки. Решает задачи Доктор Хоррибл тоже неважно, поэтому попросил вас помочь ему справиться с головоломкой от Злого Коня.
### Входные данные
В единственной строке входных данных содержится строка
*s*
(
1 ≤ |
*s*
| ≤ 10 000 000
). Гарантируется, что строка
*s*
состоит только из символов «
(
», «
)
» и «
?
».
### Выходные данные
Выведите решение задачи Злого Коня, благодаря которому Доктор Хоррибл точно попадёт в Злую Лигу Зла. То есть замените «
?
» на «
(
» или «
)
» таким образом, чтобы длина самой длинной правильной скобочной подпоследовательности, которую можно выделить в этой строке, была максимальной. Если оптимальных ответов несколько, разрешается вывести любой.
### Примеры
**Входные данные:**
```
?)))?)
```
**Выходные данные:**
```
()))()
```
**Входные данные:**
```
)(???)(
```
**Выходные данные:**
```
)((())(
```