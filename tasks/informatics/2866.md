---
title: "Задача №2866. Волки и овцы"
tags:
  - problems/origin/informatics/2866
  - problem/contest/004102/C
---
# Задача №2866. Волки и овцы

Пастбища Берляндии в опасности. Волки напали на пастбище овец. Пастух решил застрелить всех
волков, при этом не убив ни одной овцы. Ружье заряжено бронебойными патронами, поэтому пули
пролетают насквозь. Овцы и волки представлены отрезками. Пастух находится в точке (0, 0). Траектория
полета пули — луч, выходящий из точки (0, 0). Если траектория пули имеет общуюточку с отрезком,
характеризующим животное, то животное умирает. Найдите наименьшее количество выстрелов,
необходимое для убийства всех волков. Овцы при этом должны остаться живы.
### Входные данные
В первой строке записаны два целых числа N и M (0 ≤ N ≤ 100000, 0 ≤ M ≤ 100000) — количество волков и
овец соответственно. Далее следует N+M строк. В каждой строке записано четыре числа X1, Y1, X2, Y2
(−1000 ≤ X1, X2 ≤ 1000, 1 ≤ Y1, Y2 ≤ 1000), описывающие отрезки. Первые N отрезков описывают
положение волков, следующие M строк положение овец.
### Выходные данные
Выведите наименьшее количество выстрелов, необходимое для убийства всех волков. Если
невозможно убить всех волков, сохранив овец живыми, то выведите “No solution”.
### Примеры
**Входные данные:**
```
1 1
5 5 6 7
3 5 8 5
```
**Выходные данные:**
```
No solution
```
**Входные данные:**
```
2 1
1 1 2 3
-5 4 2 2
999 1000 1000 999
```
**Выходные данные:**
```
1
```