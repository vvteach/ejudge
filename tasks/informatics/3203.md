---
title: "Задача №3203. Вася и его друзья"
tags:
  - problems/origin/informatics/3203
  - problem/contest/202722/D
  - problem/contest/201811/E
---
# Задача №3203. Вася и его друзья

В новой игре "Closed Loops 7" игрокам предлагается клетчатая таблица $N$ на $M$ клеток. Ход состоит в том, что очередной игрок рисует *цикл* - замкнутую линию без самопересечений, идущую только по сторонам клеток. Каждый цикл можно нарисовать только один раз за всю игру (при этом, конечно, не запрещается рисовать циклы, пересекающиеся с уже нарисованными). Игроки ходят по очереди. Выигрывает тот, кто рисует последний возможный цикл. К примеру, если $N=2$, $M=1$, то циклов всего три и игрок, делающий третий ход, выигрывает.
Вася позвал $K-1$ друзей поиграть с ним. Чтобы произвести впечатление, он непременно хочет выиграть. Для этого ему нужно узнать, каким по счету игроком он должен быть, чтобы гарантированно одержать победу. Вася наслышан о ваших успехах в программировании, и за помощью он обратился именно к вам.
### Входные данные
Даны три целых числа: $N, M$ - размеры таблицы ($1 \le N \le 100, 1 \le M \le 8$) и $K$ - количество игроков ($1 < K \le 10^9$).
### Выходные данные
Выведите одно число от 1 до $K$ - каким по счету игроком должен быть Вася, чтобы выиграть.
### Примеры
**Входные данные:**
```
2 1 2
```
**Выходные данные:**
```
1
```
**Входные данные:**
```
1 8 8064
```
**Выходные данные:**
```
36
```