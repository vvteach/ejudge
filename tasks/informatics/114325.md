---
title: "Задача №114325. Перевороты"
tags:
  - problems/origin/informatics/114325
  - problem/contest/202720/C
---
# Задача №114325. Перевороты

Мислав и Мирко разработали новую игру под названием повороты.
Сначала Мирко выбирает последовательность чисел длины $n$ и число $k$ и разбивает последовательность на секции, каждая из которых содержит $k$ чисел ($n$ делится на $k$). Первая секция содержит первые $k$ позиций в последовательности, вторая секция содержит последующие $k$ позиций в последовательности и так далее.
После этого Мирко начинает применять различные операции на данной последовательности. Есть два типа операций:
1. Совершить циклический сдвиг элементов последовательности чисел в каждой секции на $x$ влево или вправо.
2. Совершить циклический сдвиг элементов последовательности чисел целиком на $x$ влево или вправо.
Заметим, что операция типа 2 может изменить то, к какой секции принадлежит какое число.
После применения всех операций, Мирко сообщает Миславу получившуюся последовательность и применённые операции. Задача Мислава заключается в том, чтобы восстановить исходную последовательность. Он попросил вас о помощи.
### Входные данные
Первая строка ввода содержит три целых числа $n$, $k$, $q$ ($1 \le n \le 100000; 1 \le k \le 100000; 1 \le q \le 100000$) - длину последовательности, длину каждой секции и количество применённых операций соответственно.
Последующие $q$ строк содержат описание выполненных операций. Каждая из последующих $q$ строк содержит два целых числа $a$ ($1 \le a \le 2$) - тип операции, и $x$ ($-100000 \le x \le 100000$) - число позиций, на которое был произведен циклический сдвиг. Если число $x$ отрицательно, надо производить циклический сдвиг на $|x|$ элементов влево, иначе - на $|x|$ элементов вправо.
Последняя строка содержит $n$ целых чисел, $i$-е из которых - это число, которое будет стоять на $i$-й позиции после выполнения операций из условия.
### Выходные данные
В единственной строке выведите $n$ чисел - исходную последовательность.
### Примеры
**Входные данные:**
```
4 2 2
2 2
1 1
3 2 1 0
```
**Выходные данные:**
```
0 1 2 3
```
**Входные данные:**
```
8 4 4
1 3
1 15
1 -5
2 -1
6 10 14 19 2 16 17 1
```
**Выходные данные:**
```
6 10 14 1 2 16 17 19
```
**Входные данные:**
```
9 3 5
1 1
2 -8
2 9
1 1
2 -4
3 1 8 7 4 5 2 6 9
```
**Выходные данные:**
```
5 3 6 9 7 1 8 2 4
```