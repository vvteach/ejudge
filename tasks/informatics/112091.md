---
title: "–ó–∞–¥–∞—á–∞ ‚Ññ112091. –®—É—Å—Ç—Ä–∞—è —á–µ—Ä–µ–ø–∞—à–∫–∞"
tags:
  - problems/origin/informatics/112091
  - problem/contest/202721/C
---
# –ó–∞–¥–∞—á–∞ ‚Ññ112091. –®—É—Å—Ç—Ä–∞—è —á–µ—Ä–µ–ø–∞—à–∫–∞

–ü–∞—Ñ–Ω—É—Ç–∏–π –∏ –µ–≥–æ –¥—Ä—É–∑—å—è ‚Äî –±–æ–ª—å—à–∏–µ –ª—é–±–∏—Ç–µ–ª–∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö –Ω–∞—Å—Ç–æ–ª—å–Ω—ã—Ö –∏–≥—Ä. –û—Å–æ–±–µ–Ω–Ω–æ –∏–º –Ω—Ä–∞–≤—è—Ç—Å—è –∏–≥—Ä—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –≤ —É–º–µ –Ω–µ–ø—Ä–æ—Å—Ç—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É –∞–±—Å–æ–ª—é—Ç–Ω—ã–º —Ö–∏—Ç–æ–º –∏—Ö –≤–µ—á–µ—Ä–Ω–∏—Ö –ø–æ—Å–∏–¥–µ–ª–æ–∫ –≤ –∞—É–¥–∏—Ç–æ—Ä–∏—è—Ö –ù–£–û–ü (–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞
–æ–ª–∏–º–ø–∏–∞–¥–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è) —Å—Ç–∞–ª–∞ –∏–≥—Ä–∞ ¬´–®—É—Å—Ç—Ä–∞—è —á–µ—Ä–µ–ø–∞—à–∫–∞¬ª. –í –∫–æ–º–ø–ª–µ–∫—Ç –∏–≥—Ä—ã –≤—Ö–æ–¥—è—Ç:
\* –ö–ª–µ—Ç—á–∞—Ç–æ–µ –ø–æ–ª–µ –∏–∑ $N$ —Ä—è–¥–æ–≤ –ø–æ $M$ –∫–ª–µ—Ç–æ–∫. –ö–∞–∂–¥–∞—è –∫–ª–µ—Ç–∫–∞ –ø–æ–ª—è –ª–∏–±–æ —Å–≤–æ–±–æ–¥–Ω–∞, –ª–∏–±–æ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è.
\* Q –∏–≥—Ä–æ–≤—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫. –ö–∞–∂–¥–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Å—Ç–∞—Ä—Ç–æ–≤—ã—Ö –∫–ª–µ—Ç–æ–∫ A, –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ–º—ã—Ö –∫–ª–µ—Ç–æ–∫ B –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–æ–Ω–µ—á–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫ C. –ú–Ω–æ–∂–µ—Å—Ç–≤–∞ A, B –∏ C –Ω–µ–ø—É—Å—Ç—ã, –ø–æ–ø–∞—Ä–Ω–æ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è –∏ —Å–æ—Å—Ç–æ—è—Ç –∏–∑ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫.
\* –ú–∞–ª–µ–Ω—å–∫–∞—è —Ñ–∏—à–∫–∞ –≤ —Ñ–æ—Ä–º–µ —á–µ—Ä–µ–ø–∞—à–∫–∏.
–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç—ã. –ò–≥—Ä–æ–∫–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —Ä–∞–∑—ã–≥—Ä—ã–≤–∞—é—Ç –∏–≥—Ä–æ–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ—á–µ—Ä–µ–¥–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞, –∏–≥—Ä–æ–∫–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã—á–∏—Å–ª–∏—Ç—å, —Å–∫–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ö–æ—Ä–æ—à–∏—Ö —Ç—Ä–æ–µ–∫ –∫–ª–µ—Ç–æ–∫ ($a\_i b\_j c\_k)$, –≥–¥–µ $a\_i \in A$, $b\_j \in B$, $c\_k \in C$. –¢—Ä–æ–π–∫–∞ –∫–ª–µ—Ç–æ–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π, –µ—Å–ª–∏ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ —á–µ—Ä–µ–ø–∞—à–∫—É –∏–∑ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –∫–ª–µ—Ç–∫–∏ ai –≤ –∫–æ–Ω–µ—á–Ω—É—é –∫–ª–µ—Ç–∫—É $c\_k$, –Ω–µ –ø–æ—Å–µ—â–∞—è –ø—Ä–∏ —ç—Ç–æ–º –∫–ª–µ—Ç–∫—É $b\_j$. –ù–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —á–µ—Ä–µ–ø–∞—à–∫–∏ –Ω–∞–ª–æ–∂–µ–Ω–æ —Ç—Ä–∏ —É—Å–ª–æ–≤–∏—è:
1. –ß–µ—Ä–µ–ø–∞—à–∫–∞ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤–Ω–∏–∑ –∏ –≤–ø—Ä–∞–≤–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ø–æ–ª—è.
2. –ù–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–µ—Ç–∫–∞—Ö –∑–∞–ø—Ä–µ—â–µ–Ω–æ
3. –ö–ª–µ—Ç–∫–∞ $b\_j$ —Ç–∞–∫–∂–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
–¢–∞–∫ –∫–∞–∫ —Ç–∞–±–ª–∏—Ü—É —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏ —Å–æ–∑–¥–∞—Ç–µ–ª–∏ –Ω–µ –≤–∫–ª—é—á–∏–ª–∏ –≤ –∫–æ–º–ø–ª–µ–∫—Ç, –≤ –ø—ã–ª—É –∏–≥—Ä—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Å–ø–æ—Ä—ã –æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Ç–æ–≥–æ –∏–ª–∏ –∏–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è. –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Å—Ç–∏–Ω—ã —Ä–µ–±—è—Ç–∞ –ø–æ–ø—Ä–æ—Å–∏–ª–∏ –≤–∞—Å –ø–æ—Å—á–∏—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Ç–∞.
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –≤—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ —Ü–µ–ª—ã—Ö —á–∏—Å–ª–∞ $N$ –∏ $M$ (1 ‚â§ $N$, $M$ ‚â§ 150) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –∏ —Å—Ç–æ–ª–±—Ü–æ–≤ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è.
–°–ª–µ–¥—É—é—â–∏–µ $N$ —Å—Ç—Ä–æ–∫ –ø–æ $M$ —Å–∏–º–≤–æ–ª–æ–≤ –æ–ø–∏—Å—ã–≤–∞—é—Ç –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –≤ –ø–æ—Ä—è–¥–∫–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ. –°–∏–º–≤–æ–ª ‚Äò.‚Äô —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ–π –∫–ª–µ—Ç–∫–µ, –∞ ‚Äò#‚Äô ‚Äî –∑–∞–Ω—è—Ç–æ–π. –°—Ç—Ä–æ–∫–∏ –Ω—É–º–µ—Ä—É—é—Ç—Å—è –æ—Ç 1 –¥–æ $N$, —Å—Ç–æ–ª–±—Ü—ã ‚Äî –æ—Ç 1 –¥–æ $M$
–°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ $Q$ (1 ‚â§ $Q$ ‚â§ 100 000) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–≤—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫.
–î–∞–ª–µ–µ —Å–ª–µ–¥—É—é—Ç $Q$ –±–ª–æ–∫–æ–≤, –æ–ø–∏—Å—ã–≤–∞—é—â–∏—Ö –∫–∞—Ä—Ç–æ—á–∫–∏. –ö–∞–∂–¥—ã–π –±–ª–æ–∫ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö —Å—Ç—Ä–æ–∫, –æ–ø–∏—Å—ã–≤–∞—é—â–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤–∞ $A$, $B$ –∏ $C$ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –ü–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ –æ–ø–∏—Å–∞–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞, –ø–æ—Å–ª–µ —á–µ–≥–æ –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç—Å—è –µ–≥–æ –∫–ª–µ—Ç–∫–∏. –ö–∞–∂–¥–∞—è
–∫–ª–µ—Ç–∫–∞ –∑–∞–¥–∞–µ—Ç—Å—è –¥–≤—É–º—è —á–∏—Å–ª–∞–º–∏ ‚Äî –Ω–æ–º–µ—Ä–æ–º —Å—Ç—Ä–æ–∫–∏ –∏ –Ω–æ–º–µ—Ä–æ–º —Å—Ç–æ–ª–±—Ü–∞. –í—Å–µ –∫–ª–µ—Ç–∫–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã. –°–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–∏–º–µ—Ä—É –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –≤—Å–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –Ω–µ–ø—É—Å—Ç—ã, –≤—Å–µ –∫–ª–µ—Ç–∫–∏ –≤—Å–µ—Ö –º–Ω–æ–∂–µ—Å—Ç–≤ —è–≤–ª—è—é—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–º–∏ –∏ –Ω–∏–∫–∞–∫–∞—è –∫–ª–µ—Ç–∫–∞ –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –±–æ–ª–µ–µ —á–µ–º –æ–¥–Ω–æ–º—É –º–Ω–æ–∂–µ—Å—Ç–≤—É –∏–∑ –∫–∞–∫–æ–π-—Ç–æ –∫–∞—Ä—Ç–æ—á–∫–∏.
![](/moodle_probpics/112091/–ù–û–í–´–ô.JPG)
–í –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª –≤—ã–≤–µ–¥–∏—Ç–µ —Ä–æ–≤–Ω–æ $Q$ —á–∏—Å–µ–ª –ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫–µ ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤–æ –≤—Ö–æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ.
–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –∏–≥—Ä–æ–≤–æ–π –∫–æ–º–ø–ª–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–µ –∫–∞—Ä—Ç–æ—á–∫–∏
–í–æ –≤—Å–µ—Ö —Ç—Ä–æ–π–∫–∞—Ö –ø–µ—Ä–≤–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ —á–µ—Ä–µ–ø–∞—à–∫–∞ —Å—Ç–∞—Ä—Ç—É–µ—Ç –≤ –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º —É–≥–ª—É –∏ —Ñ–∏–Ω–∏—à–∏—Ä—É–µ—Ç –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º. –ù–µ—Å–ª–æ–∂–Ω–æ –≤–∏–¥–µ—Ç—å, —á—Ç–æ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–∑ —Ç—Ä–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ $B$ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–≤–∞—è –∫–ª–µ—Ç–∫–∞ –≤—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∫–∏, —Ç–æ –µ—Å—Ç—å *—Ö–æ—Ä–æ—à–µ–π* —Ç—Ä–æ–π–∫–æ–π —è–≤–ª—è–µ—Ç—Å—è $(1, 1) - (2, 1) - (5, 6)$.
–ù–∞ –≤—Ç–æ—Ä–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ *—Ö–æ—Ä–æ—à–∏–º–∏* —è–≤–ª—è—é—Ç—Å—è —Ç—Ä–æ–π–∫–∏: $(1, 2) - (3, 1) - (5, 6)$, $(2, 1) - (3, 1) - (5, 6)$, $(2, 1) - (3, 3) - (5, 1)$.
–¢–µ—Å—Ç—ã –∫ —ç—Ç–æ–π –∑–∞–¥–∞—á–µ —Å–æ—Å—Ç–æ—è—Ç –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö –≥—Ä—É–ø–ø
0. –¢–µ—Å—Ç 1. –¢–µ—Å—Ç –∏–∑ —É—Å–ª–æ–≤–∏—è, –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –≤ –Ω–æ–ª—å –±–∞–ª–ª–æ–≤.
1. –¢–µ—Å—Ç—ã 2‚Äì18. –í —Ç–µ—Å—Ç–∞—Ö —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã $N$ ‚â§ 100, $Q$total ‚â§ 1 000. –≠—Ç–∞ –≥—Ä—É–ø–ø–∞ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –≤ 30 –±–∞–ª–ª–æ–≤. –ë–∞–ª–ª—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –≥—Ä—É–ø–ø—ã.
2. –¢–µ—Å—Ç—ã 19‚Äì32. –í —Ç–µ—Å—Ç–∞—Ö —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã $N$ ‚â§ 100, $Q$total ‚â§ 1 000 000. –≠—Ç–∞ –≥—Ä—É–ø–ø–∞ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –≤ 30 –±–∞–ª–ª–æ–≤. –ë–∞–ª–ª—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –≥—Ä—É–ø–ø—ã. –†–µ—à–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–µ—Å—Ç–∞—Ö —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã —Ç–æ–ª—å–∫–æ
–≤ —Å–ª—É—á–∞–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –∏–∑ –ø–µ—Ä–≤–æ–π –≥—Ä—É–ø–ø—ã.
3. –í —Ç–µ—Å—Ç–∞—Ö —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, –æ–¥–Ω–∞–∫–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ $N$ –∏ $Q$total –±—É–¥—É—Ç —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –≤–æ–∑—Ä–∞—Å—Ç–∞—Ç—å —Å –Ω–æ–º–µ—Ä–æ–º —Ç–µ—Å—Ç–∞. –≠—Ç–∞ –≥—Ä—É–ø–ø–∞ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –≤ 40 –±–∞–ª–ª–æ–≤. –†–µ—à–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–µ—Å—Ç–∞—Ö
—ç—Ç–æ–π –≥—Ä—É–ø–ø—ã oÔ¨Ñine, —Ç. –µ. –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ç—É—Ä–∞, –ø—Ä–∏—á–µ–º —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –∏–∑ –ø–µ—Ä–≤–æ–π –∏ –≤—Ç–æ—Ä–æ–π –≥—Ä—É–ø–ø. –¢–µ—Å—Ç—ã –≤ —ç—Ç–æ–π –≥—Ä—É–ø–ø–µ –æ—Ü–µ–Ω–∏–≤–∞—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.
### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –≤—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ —Ü–µ–ª—ã—Ö —á–∏—Å–ª–∞ $N$ –∏ $M$ (1 ‚â§ $N$, $M$ ‚â§ 150) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –∏ —Å—Ç–æ–ª–±—Ü–æ–≤ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è.
–°–ª–µ–¥—É—é—â–∏–µ $N$ —Å—Ç—Ä–æ–∫ –ø–æ $M$ —Å–∏–º–≤–æ–ª–æ–≤ –æ–ø–∏—Å—ã–≤–∞—é—Ç –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –≤ –ø–æ—Ä—è–¥–∫–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ. –°–∏–º–≤–æ–ª ‚Äò.‚Äô —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ–π –∫–ª–µ—Ç–∫–µ, –∞ ‚Äò#‚Äô ‚Äî –∑–∞–Ω—è—Ç–æ–π. –°—Ç—Ä–æ–∫–∏ –Ω—É–º–µ—Ä—É—é—Ç—Å—è –æ—Ç 1 –¥–æ $N$, —Å—Ç–æ–ª–±—Ü—ã ‚Äî –æ—Ç 1 –¥–æ $M$
–°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ $Q$ (1 ‚â§ $Q$ ‚â§ 100 000) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–≤—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫.
–î–∞–ª–µ–µ —Å–ª–µ–¥—É—é—Ç $Q$ –±–ª–æ–∫–æ–≤, –æ–ø–∏—Å—ã–≤–∞—é—â–∏—Ö –∫–∞—Ä—Ç–æ—á–∫–∏. –ö–∞–∂–¥—ã–π –±–ª–æ–∫ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö —Å—Ç—Ä–æ–∫, –æ–ø–∏—Å—ã–≤–∞—é—â–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤–∞ $A$, $B$ –∏ $C$ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –ü–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ –æ–ø–∏—Å–∞–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞, –ø–æ—Å–ª–µ —á–µ–≥–æ –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç—Å—è –µ–≥–æ –∫–ª–µ—Ç–∫–∏. –ö–∞–∂–¥–∞—è
–∫–ª–µ—Ç–∫–∞ –∑–∞–¥–∞–µ—Ç—Å—è –¥–≤—É–º—è —á–∏—Å–ª–∞–º–∏ ‚Äî –Ω–æ–º–µ—Ä–æ–º —Å—Ç—Ä–æ–∫–∏ –∏ –Ω–æ–º–µ—Ä–æ–º —Å—Ç–æ–ª–±—Ü–∞. –í—Å–µ –∫–ª–µ—Ç–∫–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã. –°–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–∏–º–µ—Ä—É –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –≤—Å–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –Ω–µ–ø—É—Å—Ç—ã, –≤—Å–µ –∫–ª–µ—Ç–∫–∏ –≤—Å–µ—Ö –º–Ω–æ–∂–µ—Å—Ç–≤ —è–≤–ª—è—é—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–º–∏ –∏ –Ω–∏–∫–∞–∫–∞—è –∫–ª–µ—Ç–∫–∞ –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –±–æ–ª–µ–µ —á–µ–º –æ–¥–Ω–æ–º—É –º–Ω–æ–∂–µ—Å—Ç–≤—É –∏–∑ –∫–∞–∫–æ–π-—Ç–æ –∫–∞—Ä—Ç–æ—á–∫–∏.
![](/moodle_probpics/112091/–ù–û–í–´–ô.JPG)
### –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–í –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª –≤—ã–≤–µ–¥–∏—Ç–µ —Ä–æ–≤–Ω–æ $Q$ —á–∏—Å–µ–ª –ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫–µ ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤–æ –≤—Ö–æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ.
### –ü—Ä–∏–º–µ—Ä—ã
**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
5 6
..##..
....#.
.#.#..
.#...#
..#...
2
1 1 1
3 2 1 2 3 4 3
1 5 6
2 1 2 2 1
2 3 1 3 3
2 5 1 5 6
```
**–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
1
3
```