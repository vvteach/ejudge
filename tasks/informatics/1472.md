---
title: "Задача №1472. Игрушечный лабиринт"
tags:
  - problems/origin/informatics/1472
  - problem/contest/203030/E
  - problem/contest/003996/П
  - problem/contest/203111/C
  - problem/contest/202106/E
  - problem/contest/205300/B
  - problem/contest/029509/B
  - problem/contest/030509/B
  - problem/contest/206000/B
---
# Задача №1472. Игрушечный лабиринт

Игрушечный лабиринт представляет собой прозрачную плоскую прямоугольную коробку, внутри которой
есть препятствия и перемещается шарик. Лабиринт можно наклонять влево, вправо, к себе или от себя,
после каждого наклона шарик перемещается в заданном направлении до ближайшего препятствия или до
стенки лабиринта, после чего останавливается. Целью игры является загнать шарик в одно из
специальных отверстий – выходов. Шарик проваливается в отверстие, если оно встречается на его пути
(шарик не обязан останавливаться в отверстии).
Первоначально шарик находится в левом верхнем углу лабиринта. Гарантируется, что решение существует
и левый верхний угол не занят препятствием или отверстием.
### Входные данные
В первой строке входного файла записаны числа *N* и *M* – размеры лабиринта
(целые положительные числа, не превышающие 100). Затем идет *N* строк по *M* чисел в каждой – описание
лабиринта. Число 0 в описании означает свободное место, число 1 – препятствие, число 2 – отверстие.
### Выходные данные
Выведите единственное число – минимальное количество наклонов, которые
необходимо сделать, чтобы шарик покинул лабиринт через одно из отверстий.
### Примеры
**Входные данные:**
```
4 5
0 0 0 0 1
0 1 1 0 2
0 2 1 0 0
0 0 1 0 0
```
**Выходные данные:**
```
3
```