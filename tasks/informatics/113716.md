---
title: "Задача №113716. Сортировка монет"
tags:
  - problems/origin/informatics/113716
---
# Задача №113716. Сортировка монет

Недавно Дима познакомился с Сашей в филателистическом магазине, и с тех пор они собирают монеты вместе. Их любимое занятие — сортировать коллекции монет. Саше нравится порядок, поэтому он хочет, чтобы монеты были расположены в ряд, причём сначала шли монеты, вышедшие из обращения, а потом монеты, всё ещё находящиеся в обращении.
Для упорядочивания монет Дима использует следующий алгоритм: за один шаг он просматривает все монеты слева направо, и если он видит, что $i$-я монета ещё в ходу, а $(i+1)$-я уже вышла из обращения, то он меняет эти две монеты местами, и продолжает смотреть на монеты дальше, начиная с $(i+1)$-й. Дима повторяет эту операцию до тех пор, пока не окажется, что на очередном шаге не произошло ни одного обмена. Сложностью упорядочивания Дима называет количество шагов, которые ему требуются в соответствии с процедурой, описанной выше, то есть, количество раз, которое он будет начинать просматривать монеты с начала. В частности, для уже упорядоченной исходной последовательности монет сложность упорядочивания равна единице.
Сегодня Саша в очередной раз позвал Диму в гости, чтобы предложить ему следующую игру. Сначала он выложил в ряд перед Димой $n$ монет, все из которых вышли из обращения. Затем Саша $n$ раз выбирает какую-то из монет, которая вышла из обращения, и заменяет её на монету, которая находится в обращении. В ходе этого процесса Саша постоянно интересуется у Димы, какова на данный момент сложность упорядочивания последовательности.
Задачу усложняет тот факт, что Диме нельзя трогать монеты, и поэтому определять сложность упорядочивания ему приходится в уме. Помогите Диме справиться с этим заданием.
### Входные данные
В первой строке задано целое число $n$ ($1 \leq n \leq 300\,000$) — количество монет, которые Саша выложил в ряд перед Димой.
Следующая строка содержит $n$ целых различных чисел $p\_1, p\_2, \ldots, p\_n$ ($1 \leq p\_i \leq n$) — позиции монет, если смотреть слева направо, которые Саша меняет на монеты, находящиеся в ходу. Сначала Саша заменяет монету, находящуюся на позиции $p\_1$, затем монету, находящуюся на позиции $p\_2$ и так далее.
### Выходные данные
Выведите $n + 1$ чисел $a\_0, a\_1, \ldots, a\_n$, где $a\_0$ — сложность упорядочивания последовательности в начале, $a\_1$ — сложность упорядочивания после замены одной монеты и так далее.
### Примеры
**Входные данные:**
```
4
1 3 4 2
```
**Выходные данные:**
```
1 2 3 2 1
```
**Входные данные:**
```
8
6 8 3 4 7 2 1 5
```
**Выходные данные:**
```
1 2 2 3 4 3 4 5 1
```