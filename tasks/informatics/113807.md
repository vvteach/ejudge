---
title: "Задача №113807.  Хоккей"
tags:
  - problems/origin/informatics/113807
  - problem/contest/201812/A
---
# Задача №113807. Хоккей

Совсем скоро начнётся чемпионат Хорватии по хорватскому хоккею. В хорватском хоккее каждая игра длится по
*M*
минут и в каждый момент времени на поле находятся ровно
6
игроков. Так как игра может длиться очень долго, не все игроки могут находится на поле на протяжении всей игры. Поэтому каждая команда привезла на чемпионат большое число запасных игроков.
Сегодня мы будем помогать Анте, тренеру команды Загреба. Анте привёз
*N*
игроков на чемпионат, причём у каждого игрока есть своя сила
*p*
*i*
и своя выносливость
*d*
*i*
. Для каждого игрока известно, что его «суммарное игровое время» не превышает величину его выносливости. «Суммарное игровое время» игрока — это суммарное количество времени, которое игрок провёл на поле. То есть, если игрок сначала провёл на поле
*X* минут, а потом
*Y* минут, то его «суммарное игровое время» равно
*X*
+
*Y* минут.
В каждой момент времени у команды есть её сила — сумма сил всех шестерых игроков, находящихся на поле. Общая сила команды
*Z*
— это сумма сил команды во все минуты игры. То есть, если игра длилась
3
минуты и в первую минуту сила команды была
15
, во вторую —
12
, а в третью —
14
, то общая сила команды —
15 + 12 + 14 = 41
. Анте знает, что чтобы победить, надо максимизировать общую силу команды. Но Анте — не очень талантливый тренер, поэтому он просит вас помочь ему составить оптимальное расписание выхода команд, чтобы
*Z*
было максимально. Гарантируестя, что можно составить расписание так, чтобы в каждый момент на поле было по 6 игроков.
Обратите внимание, что в хорватском хоккее все игроки могут заменять друг друга, и вратаря нет, ведь так игра становиться гораздо веселее.
### Входные данные
В первой строке вводится
2
числа
*M*
и
*N*
(
1 ≤
*M*
≤ 5·10
5
,
6 ≤
*N*
≤ 5·10
5
) — длительность матча в минутах и число игроков у команды соответственно.
В каждой из следующих
*N*
строк даны по
2
числа
*p*
*i*
и
*d*
*i*
(
1 ≤
*p*
*i*
≤ 10
5
,
1 ≤
*d*
*i*
≤
*M*
) — сила и выносливость
*i*
-го игрока.
Все игроки пронумерованы от
1
до
*N*
в порядке, данном во входных данных.
### Выходные данные
В первой строке выведите
*Z*
— максимальную возможную общую силу команды.
Во второй строке выведите
6
чисел — номера игроков, которые должны выйти на поле с самого начала.
В третей строке выведите
*B*
— число замен. Обратите внимание, что
число замен не должно превосходить
3·
*N*
.
В следующих
*B*
строках выведите по
3
числа
*X*
,
*Y*
,
*Z*
(
1 ≤
*X*
<
*M*
,
1 ≤
*Y*
,
*Z*
≤
*N*
), описывающие замену игрока *Y*
на игрока *Z*
в момент времени
*X*
. Обратите внимание, что можно проводить несколько замен в один момент времени, но не допускается выход в игру на нулевое время (т.е. выход в игру и замена в один момент времени или наоборот).
Если существует несколько ответов, выведите любой.
### Примеры
**Входные данные:**
```
200 6
3 200
4 200
5 200
6 200
7 200
8 200
```
**Выходные данные:**
```
6600
6 5 4 3 2 1 
0
```
**Входные данные:**
```
9 9
10 3
9 3
13 9
5 3
15 9
100 9
3 6
2 6
1 6
```
**Выходные данные:**
```
1260
6 5 3 1 7 8 
4
3 8 9
3 1 2
6 7 8
6 2 4
```
**Входные данные:**
```
3 9
100 3
100 3
100 3
100 3
100 2
100 1
50 1
30 2
1 1
```
**Выходные данные:**
```
1610
1 2 3 4 5 7 
2
1 7 8
2 5 6
```