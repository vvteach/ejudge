---
title: "Задача №1272. Олимпиада-2010"
tags:
  - problems/origin/informatics/1272
---
# Задача №1272. Олимпиада-2010

Команда Москвы на Всероссийской олимпиаде по информатике 2017 года оказалась настолько
велика, что помещается только в 2 вагона. Некоторые школьники испытывают друг к другу такую личную
неприязнь, что не могут есть, находясь в одном вагоне. Поскольку не есть в поезде нельзя (это
противоречит СанПиНам), то участников олимпиады надо рассадить так, чтобы школьники,
испытывающие взаимную неприязнь, ехали в разных вагонах. Если это невозможно, никто никуда не
поедет.
Первая строка входного файла содержит количество школьников N (1 ≤ N ≤ 10000) и количество
взаимных неприязней M (1 ≤ M ≤ 100000). Следующие M строк содержат пары чисел, задающих номера
участников, испытывающих взаимную неприязнь. Участники нумеруются с единицы.
В случае, если рассадить участников невозможно — выведите единственное число 0. Если же
рассадка возможна, выведите в первой строке номера школьников, едущих в первом вагоне, во второй —
едущих во втором вагоне. Первый школьник всегда должен ехать в первом вагоне. Школьник с меньшим
номером должен находится в первом вагоне, если это возможно. Номера школьников в каждом из вагонов
должны быть упорядочены по возрастанию.
### Входные данные
Первая строка входного файла содержит количество школьников N (1 ≤ N ≤ 10000) и количество
взаимных неприязней M (1 ≤ M ≤ 100000). Следующие M строк содержат пары чисел, задающих номера
участников, испытывающих взаимную неприязнь. Участники нумеруются с единицы.
### Выходные данные
В случае, если рассадить участников невозможно — выведите единственное число 0. Если же
рассадка возможна, выведите в первой строке номера школьников, едущих в первом вагоне, во второй —
едущих во втором вагоне. Первый школьник всегда должен ехать в первом вагоне. Школьник с меньшим
номером должен находится в первом вагоне, если это возможно. Номера школьников в каждом из вагонов
должны быть упорядочены по возрастанию.
### Примеры
**Входные данные:**
```
4 3
1 2
2 3
2 4
```
**Выходные данные:**
```
1 3 4 
2
```